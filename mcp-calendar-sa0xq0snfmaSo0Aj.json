{"updatedAt":"2025-06-18T17:55:34.239Z","createdAt":"2025-06-17T12:52:39.298Z","id":"sa0xq0snfmaSo0Aj","name":"MCP Calendar","active":false,"isArchived":true,"nodes":[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-240,-80],"id":"513fc8e7-3b0e-47c7-bbef-27a944bf55a9","name":"When chat message received","webhookId":"fea139cb-8e2c-43ff-9639-bd6365cf9e5b"},{"parameters":{"options":{"systemMessage":"=Você é um assistente especializado em agendamento de reuniões para Miqueias com acesso ao Google Calendar via MCP.\n\nREGRAS OBRIGATÓRIAS:\n- Data atual: {{ $now }}\n- Duração fixa: 1 hora para todas as reuniões\n- Título padrão: \"Miqueias & [Nome do Participante]\"\n\nFLUXO DE AGENDAMENTO (2 ETAPAS MCP):\n1. **VERIFICAR DISPONIBILIDADE:**\n   - Use a função MCP \"Verificar Disponibilidade\" primeiro\n   - Confirme se o horário solicitado está livre\n   - Se ocupado, ofereça horários alternativos\n\n2. **AGENDAR REUNIÃO:**\n   - Após confirmar disponibilidade, use \"Agendar\" (create event)\n   - Configure o evento com:\n     - Título: \"Miqueias & [Nome Completo]\"\n     - Duração: 1 hora\n     - Descrição: objetivo da reunião\n     - Convidados: email do participante\n\nPROCESSO COMPLETO:\n1. Colete: nome completo, email, objetivo da reunião, data/horário preferido\n2. Execute MCP: Verificar Disponibilidade\n3. Se disponível → Execute MCP: Agendar\n4. Se ocupado → Ofereça alternativas e repita verificação\n5. Confirme o agendamento criado\n\nCOMPORTAMENTO:\n- Sempre verifique disponibilidade ANTES de agendar\n- Seja claro sobre conflitos de horário\n- Confirme todos os detalhes antes das ações MCP\n- Informe o status de cada etapa ao usuário\n\nInicie perguntando: nome, email e motivo da reunião."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[-20,-80],"id":"561a7d8b-a5fc-4b6a-8622-41f89c13a6c5","name":"AI Agent"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[40,160],"id":"c7228b58-45a8-41e4-8697-55b98fe988bd","name":"Simple Memory"},{"parameters":{"sseEndpoint":"https://primary-production-70c40.up.railway.app/mcp/5d9f4265-195b-4b07-8816-a76b2b6e0231/sse"},"type":"@n8n/n8n-nodes-langchain.mcpClientTool","typeVersion":1,"position":[260,160],"id":"3c80f2d4-11a9-4260-bfd5-505d4b0b6b60","name":"MCP Google Calendar"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-120,160],"id":"a19d8431-838b-4382-91fb-79291a1df49a","name":"4o","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}}],"connections":{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"MCP Google Calendar":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"4o":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"9dd30cde-40f1-4229-9aaa-329d0bd82661","activeVersionId":null,"triggerCount":0,"shared":[{"updatedAt":"2025-06-17T12:52:39.298Z","createdAt":"2025-06-17T12:52:39.298Z","role":"workflow:owner","workflowId":"sa0xq0snfmaSo0Aj","projectId":"BlSED80HESP48veq"}],"activeVersion":null,"tags":[]}