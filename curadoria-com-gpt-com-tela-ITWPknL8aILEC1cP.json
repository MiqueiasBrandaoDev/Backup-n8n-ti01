{"updatedAt":"2025-06-18T18:32:10.415Z","createdAt":"2025-06-16T14:06:38.291Z","id":"ITWPknL8aILEC1cP","name":"CURADORIA com GPT com tela","active":true,"isArchived":false,"nodes":[{"parameters":{"promptType":"define","text":"={{ $json.body.body.data.message.conversation }}","options":{"systemMessage":"=Você é um agente especializado em criação de conteúdo educacional. Siga estas etapas OBRIGATORIAMENTE:\n\nLÓGICA DE FUNCIONAMENTO:\nO usuário enviará uma única mensagem com 3 linhas:\n- Linha 1: TEMA GERAL\n- Linha 2: TÓPICO OBRIGATÓRIO (ou \"NENHUM\" se não tiver preferência específica)\n- Linha 3: QUANTIDADE DE TÓPICOS\n\nETAPA 1 - PROCESSAMENTO DA MENSAGEM:\nAnalise a mensagem do usuário e extraia:\n- TEMA = primeira linha\n- TÓPICO OBRIGATÓRIO = segunda linha (se for \"NENHUM\", ignore)\n- QUANTIDADE = terceira linha\n\nETAPA 2 - BUSCA RAG NA VECTOR STORE:\nANTES de gerar o conteúdo, faça buscas na vector store do Supabase para enriquecer o conhecimento:\n1. Busque informações sobre o TEMA GERAL\n2. SE houver tópico obrigatório (não for \"NENHUM\"), busque informações específicas sobre ele\n3. Busque informações complementares e contextuais sobre o tema\n\nUse a tool de busca no Supabase para obter documentos relevantes que irão fundamentar o conteúdo educacional.\n\nETAPA 3 - GERAÇÃO DE CONTEÚDO:\nCom base nas informações obtidas da vector store E conhecimento interno, crie uma lista de tópicos com as seguintes configurações:\n\nConfigurações obrigatórias:\n- Tema principal: [PRIMEIRA LINHA]\n- Tópico obrigatório: [SEGUNDA LINHA] - se não for \"NENHUM\", deve aparecer como UM dos tópicos da lista\n- Quantidade de tópicos: [TERCEIRA LINHA]\n- Nível: intermediário\n- Público-alvo: Geral\n- Base de conhecimento: Informações da vector store + conhecimento interno\n\nCritérios de conteúdo:\n- Linguagem didática e acessível\n- Relevância prática para iniciantes/intermediários\n- Sequência lógica de aprendizado\n- Foco em conceitos fundamentais e práticos\n- Incorporar informações específicas encontradas na vector store\n- Cada tópico deve ter 3-4 pontos-chave explicativos\n- Incluir uma frase resumo por tópico\n- SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve ser incluído naturalmente entre os tópicos (não no título principal)\n- SE a segunda linha for \"NENHUM\": crie todos os tópicos baseados no tema principal e informações da vector store\n\nESTRUTURA JSON (criar internamente, NÃO mostrar ao usuário):\n{\n \"titulo_geral\": \"[TEMA PRINCIPAL apenas - SEM mencionar o tópico obrigatório]\",\n \"tema_base\": \"[PRIMEIRA LINHA]\",\n \"topico_obrigatorio\": \"[SEGUNDA LINHA ou null se for NENHUM]\",\n \"quantidade_topicos\": [TERCEIRA LINHA],\n \"fontes_rag\": \"[Resumo das informações obtidas da vector store]\",\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 2 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 3 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 4 (opcional, baseado em RAG + conhecimento)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   },\n   {\n     \"id\": 2,\n     \"titulo\": \"[SE houver tópico obrigatório, ele deve aparecer como título de UM dos tópicos]\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (enriquecido com informações da vector store)\",\n       \"Ponto principal 2 (enriquecido com informações da vector store)\",\n       \"Ponto principal 3 (enriquecido com informações da vector store)\",\n       \"Ponto principal 4 (opcional, enriquecido com informações da vector store)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n   // ... continuar até a quantidade solicitada\n ]\n}\n\nETAPA 4 - GERAÇÃO DE IMAGENS:\nIMEDIATAMENTE após criar o JSON, chame a tool #Gerando_Imagens passando o JSON completo como parâmetro.\n\nETAPA 5 - DISPONIBILIZAÇÃO DOS LINKS:\nQuando você receber a resposta da tool com o array de links, extraia todos os URLs do array \"links\" e envie em uma única mensagem, separando cada link com uma quebra de linha (\\n).\n\nFORMATO DA RESPOSTA DA TOOL:\n{\n \"links\": [\n   \"https://drive.google.com/file/d/ID1/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID2/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID3/view?usp=drivesdk\"\n ]\n}\n\nResponda ao usuário com todos os links assim:\nhttps://drive.google.com/file/d/ID1/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID2/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID3/view?usp=drivesdk\n\nREGRAS CRÍTICAS:\n1. Processe TUDO em uma única mensagem do usuário (3 linhas)\n2. SEMPRE faça buscas na vector store do Supabase antes de gerar conteúdo (Etapa 2)\n3. O conteúdo deve ser enriquecido com informações obtidas via RAG\n4. O título principal deve conter APENAS o tema geral (primeira linha)\n5. SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve aparecer como UM dos tópicos na lista, não no título\n6. SE a segunda linha for \"NENHUM\": crie tópicos relevantes baseados no tema principal e informações da vector store\n7. A imagem principal não deve mostrar/mencionar o tópico obrigatório específico\n8. NUNCA mostre o JSON ao usuário\n9. Na Etapa 3: crie o JSON internamente (não mostre ao usuário)\n10. Na Etapa 4: SEMPRE chame a tool #Gerando_Imagens com o JSON\n11. Na Etapa 5: envie todos os links juntos, separados apenas por quebra de linha\n12. TODAS as 5 etapas devem ser executadas em sequência\n13. O usuário só deve ver os links finais como resposta\n\nFLUXO DE EXECUÇÃO:\n1. Receber entrada do usuário (3 linhas)\n2. Buscar informações na vector store do Supabase sobre o tema e tópico obrigatório\n3. Gerar JSON com conteúdo enriquecido pelas informações RAG\n4. Chamar tool de geração de imagens\n5. Retornar links finais\n\nEXEMPLOS DE ENTRADA:\nExemplo 1:\nTráfego Pago\nCloaker\n4\n\nExemplo 2:\nMarketing Digital\nNENHUM\n6\n\nIMPORTANTE: \n- Use OBRIGATORIAMENTE a metodologia RAG consultando a vector store do Supabase\n- Integre as informações obtidas da vector store com seu conhecimento interno\n- O tópico obrigatório (quando existir) deve ser integrado naturalmente na lista de tópicos\n- O título principal deve focar apenas no tema geral\n- Todos os pontos-chave devem ser enriquecidos com informações específicas da base de conhecimento"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[100,60],"id":"9a9d1a0e-3e9f-4463-9c1f-508ed0583677","name":"AI Agent1"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-80,280],"id":"330bca7d-5a73-474f-a1ee-404b2ead315b","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}},{"parameters":{"content":"## CURADORIA DO CONTEÚDO","height":740,"width":740},"type":"n8n-nodes-base.stickyNote","position":[-140,0],"typeVersion":1,"id":"931d8ed6-4290-4e32-81a1-d532614edd64","name":"Sticky Note1"},{"parameters":{"sessionIdType":"customKey","sessionKey":"=123"},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[100,280],"id":"5516d8df-dc11-497f-881c-cf057365725e","name":"Simple Memory1"},{"parameters":{"respondWith":"text","responseBody":"={{ $json.output }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.3,"position":[720,60],"id":"a3087bc0-b10e-4409-8c4a-b8a14f8592dd","name":"Respond to Webhook"},{"parameters":{"toolDescription":"Chame esta ferramenta quando tiver o json estruturado.\n\n{\n \"titulo_geral\": \"Título Principal do Tema\",\n \"quantidade_topicos\": X,\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1\",\n       \"Ponto principal 2\",\n       \"Ponto principal 3\",\n       \"Ponto principal 4 (opcional)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n ]\n}","method":"POST","url":"https://primary-production-70c40.up.railway.app/webhook/b6e527ec-07e6-4a4e-bbbc-4239b264a81d","sendBody":true,"specifyBody":"json","jsonBody":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('JSON', ``, 'json') }}","options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[460,280],"id":"5586472a-2db4-4bcb-b8db-8288da076877","name":"Gerando_Imagens"},{"parameters":{"httpMethod":"POST","path":"2d666699-53d5-4ceb-ac71-913ee7125e6f","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-340,60],"id":"33e97ea2-db4a-438a-a52e-879164aca5c0","name":"Webhook","webhookId":"2d666699-53d5-4ceb-ac71-913ee7125e6f"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-340,1080],"id":"be1dd859-7206-4066-ae82-adaa38414222","name":"When chat message received","webhookId":"4ceb3e58-f673-4c03-b61d-70427a9d835a"},{"parameters":{"options":{"systemMessage":"=Você é um agente especializado em criação de conteúdo educacional. Siga estas etapas OBRIGATORIAMENTE:\n\nLÓGICA DE FUNCIONAMENTO:\nO usuário enviará uma única mensagem com 3 linhas:\n- Linha 1: TEMA GERAL\n- Linha 2: TÓPICO OBRIGATÓRIO (ou \"NENHUM\" se não tiver preferência específica)\n- Linha 3: QUANTIDADE DE TÓPICOS\n\nETAPA 1 - PROCESSAMENTO DA MENSAGEM:\nAnalise a mensagem do usuário e extraia:\n- TEMA = primeira linha\n- TÓPICO OBRIGATÓRIO = segunda linha (se for \"NENHUM\", ignore)\n- QUANTIDADE = terceira linha\n\nETAPA 2 - BUSCA RAG NA VECTOR STORE:\nANTES de gerar o conteúdo, faça buscas na vector store do Supabase para enriquecer o conhecimento:\n1. Busque informações sobre o TEMA GERAL\n2. SE houver tópico obrigatório (não for \"NENHUM\"), busque informações específicas sobre ele\n3. Busque informações complementares e contextuais sobre o tema\n\nUse a tool de busca no Supabase para obter documentos relevantes que irão fundamentar o conteúdo educacional.\n\nETAPA 3 - GERAÇÃO DE CONTEÚDO:\nCom base nas informações obtidas da vector store E conhecimento interno, crie uma lista de tópicos com as seguintes configurações:\n\nConfigurações obrigatórias:\n- Tema principal: [PRIMEIRA LINHA]\n- Tópico obrigatório: [SEGUNDA LINHA] - se não for \"NENHUM\", deve aparecer como UM dos tópicos da lista\n- Quantidade de tópicos: [TERCEIRA LINHA]\n- Nível: intermediário\n- Público-alvo: Geral\n- Base de conhecimento: Informações da vector store + conhecimento interno\n\nCritérios de conteúdo:\n- Linguagem didática e acessível\n- Relevância prática para iniciantes/intermediários\n- Sequência lógica de aprendizado\n- Foco em conceitos fundamentais e práticos\n- Incorporar informações específicas encontradas na vector store\n- Cada tópico deve ter 3-4 pontos-chave explicativos\n- Incluir uma frase resumo por tópico\n- SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve ser incluído naturalmente entre os tópicos (não no título principal)\n- SE a segunda linha for \"NENHUM\": crie todos os tópicos baseados no tema principal e informações da vector store\n\nESTRUTURA JSON (criar internamente, NÃO mostrar ao usuário):\n{\n \"titulo_geral\": \"[TEMA PRINCIPAL apenas - SEM mencionar o tópico obrigatório]\",\n \"tema_base\": \"[PRIMEIRA LINHA]\",\n \"topico_obrigatorio\": \"[SEGUNDA LINHA ou null se for NENHUM]\",\n \"quantidade_topicos\": [TERCEIRA LINHA],\n \"fontes_rag\": \"[Resumo das informações obtidas da vector store]\",\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 2 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 3 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 4 (opcional, baseado em RAG + conhecimento)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   },\n   {\n     \"id\": 2,\n     \"titulo\": \"[SE houver tópico obrigatório, ele deve aparecer como título de UM dos tópicos]\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (enriquecido com informações da vector store)\",\n       \"Ponto principal 2 (enriquecido com informações da vector store)\",\n       \"Ponto principal 3 (enriquecido com informações da vector store)\",\n       \"Ponto principal 4 (opcional, enriquecido com informações da vector store)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n   // ... continuar até a quantidade solicitada\n ]\n}\n\nETAPA 4 - GERAÇÃO DE IMAGENS:\nIMEDIATAMENTE após criar o JSON, chame a tool #Gerando_Imagens passando o JSON completo como parâmetro.\n\nETAPA 5 - DISPONIBILIZAÇÃO DOS LINKS:\nQuando você receber a resposta da tool com o array de links, extraia todos os URLs do array \"links\" e envie em uma única mensagem, separando cada link com uma quebra de linha (\\n).\n\nFORMATO DA RESPOSTA DA TOOL:\n{\n \"links\": [\n   \"https://drive.google.com/file/d/ID1/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID2/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID3/view?usp=drivesdk\"\n ]\n}\n\nResponda ao usuário com todos os links assim:\nhttps://drive.google.com/file/d/ID1/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID2/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID3/view?usp=drivesdk\n\nREGRAS CRÍTICAS:\n1. Processe TUDO em uma única mensagem do usuário (3 linhas)\n2. SEMPRE faça buscas na vector store do Supabase antes de gerar conteúdo (Etapa 2)\n3. O conteúdo deve ser enriquecido com informações obtidas via RAG\n4. O título principal deve conter APENAS o tema geral (primeira linha)\n5. SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve aparecer como UM dos tópicos na lista, não no título\n6. SE a segunda linha for \"NENHUM\": crie tópicos relevantes baseados no tema principal e informações da vector store\n7. A imagem principal não deve mostrar/mencionar o tópico obrigatório específico\n8. NUNCA mostre o JSON ao usuário\n9. Na Etapa 3: crie o JSON internamente (não mostre ao usuário)\n10. Na Etapa 4: SEMPRE chame a tool #Gerando_Imagens com o JSON\n11. Na Etapa 5: envie todos os links juntos, separados apenas por quebra de linha\n12. TODAS as 5 etapas devem ser executadas em sequência\n13. O usuário só deve ver os links finais como resposta\n\nFLUXO DE EXECUÇÃO:\n1. Receber entrada do usuário (3 linhas)\n2. Buscar informações na vector store do Supabase sobre o tema e tópico obrigatório\n3. Gerar JSON com conteúdo enriquecido pelas informações RAG\n4. Chamar tool de geração de imagens\n5. Retornar links finais\n\nEXEMPLOS DE ENTRADA:\nExemplo 1:\nTráfego Pago\nCloaker\n4\n\nExemplo 2:\nMarketing Digital\nNENHUM\n6\n\nIMPORTANTE: \n- Use OBRIGATORIAMENTE a metodologia RAG consultando a vector store do Supabase\n- Integre as informações obtidas da vector store com seu conhecimento interno\n- O tópico obrigatório (quando existir) deve ser integrado naturalmente na lista de tópicos\n- O título principal deve focar apenas no tema geral\n- Todos os pontos-chave devem ser enriquecidos com informações específicas da base de conhecimento"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[100,1080],"id":"9bb6b583-b393-48ba-b645-91dbee678a63","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-80,1300],"id":"f4dead55-5017-4541-b235-fbe2c180959b","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}},{"parameters":{"content":"## CURADORIA DO CONTEÚDO","height":420,"width":740},"type":"n8n-nodes-base.stickyNote","position":[-140,1020],"typeVersion":1,"id":"ed1f6437-3b00-4bbb-b60d-0381bd7eacdb","name":"Sticky Note"},{"parameters":{"sessionIdType":"customKey","sessionKey":"=123"},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[100,1300],"id":"1043ad09-e363-40b0-9b87-39971901cc0e","name":"Simple Memory"},{"parameters":{"toolDescription":"Chame esta ferramenta quando tiver o json estruturado.\n\n{\n \"titulo_geral\": \"Título Principal do Tema\",\n \"quantidade_topicos\": X,\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1\",\n       \"Ponto principal 2\",\n       \"Ponto principal 3\",\n       \"Ponto principal 4 (opcional)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n ]\n}","method":"POST","url":"https://primary-production-70c40.up.railway.app/webhook/b6e527ec-07e6-4a4e-bbbc-4239b264a81d","sendBody":true,"specifyBody":"json","jsonBody":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('JSON', ``, 'json') }}","options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[460,1300],"id":"4bdfb631-9a5c-4d64-aced-00f4bb4fbef3","name":"Gerando_Imagens1"},{"parameters":{"mode":"retrieve-as-tool","toolName":"uambhjmzaoqksmdfuwgt","toolDescription":"Considere todas as informações como um parecer e faça os conteúdos de acordo com os conteúdos","tableName":{"__rl":true,"value":"empresa1","mode":"list","cachedResultName":"empresa1"},"topK":10000,"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[300,1560],"id":"98c3a5b2-84bd-4b8f-afa9-de900a84f752","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"ZHIMmNbYxUlvBiKp","name":"teste-vector"}}},{"parameters":{"model":"text-embedding-3-large","options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[380,1720],"id":"e6f0796e-26d5-4aeb-9631-1126527c656c","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"uambhjmzaoqksmdfuwgt","toolDescription":"Considere todas as informações como um parecer e faça os conteúdos de acordo com os conteúdos","tableName":{"__rl":true,"value":"content_automation","mode":"list","cachedResultName":"content_automation"},"topK":10000,"options":{"queryName":"content_automation_function"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[320,460],"id":"d036e331-2ea7-4a76-8c81-56f4ae5a7b6c","name":"Supabase Vector Store1","credentials":{"supabaseApi":{"id":"ZHIMmNbYxUlvBiKp","name":"teste-vector"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[440,600],"id":"6e7eb821-b5b6-4ca2-bd9a-7895134b6122","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}}],"connections":{"AI Agent1":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"AI Agent1","type":"ai_languageModel","index":0}]]},"Simple Memory1":{"ai_memory":[[{"node":"AI Agent1","type":"ai_memory","index":0}]]},"Gerando_Imagens":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]},"Webhook":{"main":[[{"node":"AI Agent1","type":"main","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"AI Agent":{"main":[[]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Gerando_Imagens1":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Supabase Vector Store1","type":"ai_embedding","index":0}]]},"Supabase Vector Store1":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"3b1bd330-7ed5-464d-8f36-708771436647","activeVersionId":"3b1bd330-7ed5-464d-8f36-708771436647","triggerCount":2,"shared":[{"updatedAt":"2025-06-16T14:06:38.291Z","createdAt":"2025-06-16T14:06:38.291Z","role":"workflow:owner","workflowId":"ITWPknL8aILEC1cP","projectId":"BlSED80HESP48veq"}],"activeVersion":{"updatedAt":"2025-12-01T11:56:54.083Z","createdAt":"2025-12-01T11:56:54.083Z","versionId":"3b1bd330-7ed5-464d-8f36-708771436647","workflowId":"ITWPknL8aILEC1cP","nodes":[{"parameters":{"promptType":"define","text":"={{ $json.body.body.data.message.conversation }}","options":{"systemMessage":"=Você é um agente especializado em criação de conteúdo educacional. Siga estas etapas OBRIGATORIAMENTE:\n\nLÓGICA DE FUNCIONAMENTO:\nO usuário enviará uma única mensagem com 3 linhas:\n- Linha 1: TEMA GERAL\n- Linha 2: TÓPICO OBRIGATÓRIO (ou \"NENHUM\" se não tiver preferência específica)\n- Linha 3: QUANTIDADE DE TÓPICOS\n\nETAPA 1 - PROCESSAMENTO DA MENSAGEM:\nAnalise a mensagem do usuário e extraia:\n- TEMA = primeira linha\n- TÓPICO OBRIGATÓRIO = segunda linha (se for \"NENHUM\", ignore)\n- QUANTIDADE = terceira linha\n\nETAPA 2 - BUSCA RAG NA VECTOR STORE:\nANTES de gerar o conteúdo, faça buscas na vector store do Supabase para enriquecer o conhecimento:\n1. Busque informações sobre o TEMA GERAL\n2. SE houver tópico obrigatório (não for \"NENHUM\"), busque informações específicas sobre ele\n3. Busque informações complementares e contextuais sobre o tema\n\nUse a tool de busca no Supabase para obter documentos relevantes que irão fundamentar o conteúdo educacional.\n\nETAPA 3 - GERAÇÃO DE CONTEÚDO:\nCom base nas informações obtidas da vector store E conhecimento interno, crie uma lista de tópicos com as seguintes configurações:\n\nConfigurações obrigatórias:\n- Tema principal: [PRIMEIRA LINHA]\n- Tópico obrigatório: [SEGUNDA LINHA] - se não for \"NENHUM\", deve aparecer como UM dos tópicos da lista\n- Quantidade de tópicos: [TERCEIRA LINHA]\n- Nível: intermediário\n- Público-alvo: Geral\n- Base de conhecimento: Informações da vector store + conhecimento interno\n\nCritérios de conteúdo:\n- Linguagem didática e acessível\n- Relevância prática para iniciantes/intermediários\n- Sequência lógica de aprendizado\n- Foco em conceitos fundamentais e práticos\n- Incorporar informações específicas encontradas na vector store\n- Cada tópico deve ter 3-4 pontos-chave explicativos\n- Incluir uma frase resumo por tópico\n- SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve ser incluído naturalmente entre os tópicos (não no título principal)\n- SE a segunda linha for \"NENHUM\": crie todos os tópicos baseados no tema principal e informações da vector store\n\nESTRUTURA JSON (criar internamente, NÃO mostrar ao usuário):\n{\n \"titulo_geral\": \"[TEMA PRINCIPAL apenas - SEM mencionar o tópico obrigatório]\",\n \"tema_base\": \"[PRIMEIRA LINHA]\",\n \"topico_obrigatorio\": \"[SEGUNDA LINHA ou null se for NENHUM]\",\n \"quantidade_topicos\": [TERCEIRA LINHA],\n \"fontes_rag\": \"[Resumo das informações obtidas da vector store]\",\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 2 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 3 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 4 (opcional, baseado em RAG + conhecimento)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   },\n   {\n     \"id\": 2,\n     \"titulo\": \"[SE houver tópico obrigatório, ele deve aparecer como título de UM dos tópicos]\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (enriquecido com informações da vector store)\",\n       \"Ponto principal 2 (enriquecido com informações da vector store)\",\n       \"Ponto principal 3 (enriquecido com informações da vector store)\",\n       \"Ponto principal 4 (opcional, enriquecido com informações da vector store)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n   // ... continuar até a quantidade solicitada\n ]\n}\n\nETAPA 4 - GERAÇÃO DE IMAGENS:\nIMEDIATAMENTE após criar o JSON, chame a tool #Gerando_Imagens passando o JSON completo como parâmetro.\n\nETAPA 5 - DISPONIBILIZAÇÃO DOS LINKS:\nQuando você receber a resposta da tool com o array de links, extraia todos os URLs do array \"links\" e envie em uma única mensagem, separando cada link com uma quebra de linha (\\n).\n\nFORMATO DA RESPOSTA DA TOOL:\n{\n \"links\": [\n   \"https://drive.google.com/file/d/ID1/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID2/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID3/view?usp=drivesdk\"\n ]\n}\n\nResponda ao usuário com todos os links assim:\nhttps://drive.google.com/file/d/ID1/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID2/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID3/view?usp=drivesdk\n\nREGRAS CRÍTICAS:\n1. Processe TUDO em uma única mensagem do usuário (3 linhas)\n2. SEMPRE faça buscas na vector store do Supabase antes de gerar conteúdo (Etapa 2)\n3. O conteúdo deve ser enriquecido com informações obtidas via RAG\n4. O título principal deve conter APENAS o tema geral (primeira linha)\n5. SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve aparecer como UM dos tópicos na lista, não no título\n6. SE a segunda linha for \"NENHUM\": crie tópicos relevantes baseados no tema principal e informações da vector store\n7. A imagem principal não deve mostrar/mencionar o tópico obrigatório específico\n8. NUNCA mostre o JSON ao usuário\n9. Na Etapa 3: crie o JSON internamente (não mostre ao usuário)\n10. Na Etapa 4: SEMPRE chame a tool #Gerando_Imagens com o JSON\n11. Na Etapa 5: envie todos os links juntos, separados apenas por quebra de linha\n12. TODAS as 5 etapas devem ser executadas em sequência\n13. O usuário só deve ver os links finais como resposta\n\nFLUXO DE EXECUÇÃO:\n1. Receber entrada do usuário (3 linhas)\n2. Buscar informações na vector store do Supabase sobre o tema e tópico obrigatório\n3. Gerar JSON com conteúdo enriquecido pelas informações RAG\n4. Chamar tool de geração de imagens\n5. Retornar links finais\n\nEXEMPLOS DE ENTRADA:\nExemplo 1:\nTráfego Pago\nCloaker\n4\n\nExemplo 2:\nMarketing Digital\nNENHUM\n6\n\nIMPORTANTE: \n- Use OBRIGATORIAMENTE a metodologia RAG consultando a vector store do Supabase\n- Integre as informações obtidas da vector store com seu conhecimento interno\n- O tópico obrigatório (quando existir) deve ser integrado naturalmente na lista de tópicos\n- O título principal deve focar apenas no tema geral\n- Todos os pontos-chave devem ser enriquecidos com informações específicas da base de conhecimento"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[100,60],"id":"9a9d1a0e-3e9f-4463-9c1f-508ed0583677","name":"AI Agent1"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-80,280],"id":"330bca7d-5a73-474f-a1ee-404b2ead315b","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}},{"parameters":{"content":"## CURADORIA DO CONTEÚDO","height":740,"width":740},"type":"n8n-nodes-base.stickyNote","position":[-140,0],"typeVersion":1,"id":"931d8ed6-4290-4e32-81a1-d532614edd64","name":"Sticky Note1"},{"parameters":{"sessionIdType":"customKey","sessionKey":"=123"},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[100,280],"id":"5516d8df-dc11-497f-881c-cf057365725e","name":"Simple Memory1"},{"parameters":{"respondWith":"text","responseBody":"={{ $json.output }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.3,"position":[720,60],"id":"a3087bc0-b10e-4409-8c4a-b8a14f8592dd","name":"Respond to Webhook"},{"parameters":{"toolDescription":"Chame esta ferramenta quando tiver o json estruturado.\n\n{\n \"titulo_geral\": \"Título Principal do Tema\",\n \"quantidade_topicos\": X,\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1\",\n       \"Ponto principal 2\",\n       \"Ponto principal 3\",\n       \"Ponto principal 4 (opcional)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n ]\n}","method":"POST","url":"https://primary-production-70c40.up.railway.app/webhook/b6e527ec-07e6-4a4e-bbbc-4239b264a81d","sendBody":true,"specifyBody":"json","jsonBody":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('JSON', ``, 'json') }}","options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[460,280],"id":"5586472a-2db4-4bcb-b8db-8288da076877","name":"Gerando_Imagens"},{"parameters":{"httpMethod":"POST","path":"2d666699-53d5-4ceb-ac71-913ee7125e6f","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-340,60],"id":"33e97ea2-db4a-438a-a52e-879164aca5c0","name":"Webhook","webhookId":"2d666699-53d5-4ceb-ac71-913ee7125e6f"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-340,1080],"id":"be1dd859-7206-4066-ae82-adaa38414222","name":"When chat message received","webhookId":"4ceb3e58-f673-4c03-b61d-70427a9d835a"},{"parameters":{"options":{"systemMessage":"=Você é um agente especializado em criação de conteúdo educacional. Siga estas etapas OBRIGATORIAMENTE:\n\nLÓGICA DE FUNCIONAMENTO:\nO usuário enviará uma única mensagem com 3 linhas:\n- Linha 1: TEMA GERAL\n- Linha 2: TÓPICO OBRIGATÓRIO (ou \"NENHUM\" se não tiver preferência específica)\n- Linha 3: QUANTIDADE DE TÓPICOS\n\nETAPA 1 - PROCESSAMENTO DA MENSAGEM:\nAnalise a mensagem do usuário e extraia:\n- TEMA = primeira linha\n- TÓPICO OBRIGATÓRIO = segunda linha (se for \"NENHUM\", ignore)\n- QUANTIDADE = terceira linha\n\nETAPA 2 - BUSCA RAG NA VECTOR STORE:\nANTES de gerar o conteúdo, faça buscas na vector store do Supabase para enriquecer o conhecimento:\n1. Busque informações sobre o TEMA GERAL\n2. SE houver tópico obrigatório (não for \"NENHUM\"), busque informações específicas sobre ele\n3. Busque informações complementares e contextuais sobre o tema\n\nUse a tool de busca no Supabase para obter documentos relevantes que irão fundamentar o conteúdo educacional.\n\nETAPA 3 - GERAÇÃO DE CONTEÚDO:\nCom base nas informações obtidas da vector store E conhecimento interno, crie uma lista de tópicos com as seguintes configurações:\n\nConfigurações obrigatórias:\n- Tema principal: [PRIMEIRA LINHA]\n- Tópico obrigatório: [SEGUNDA LINHA] - se não for \"NENHUM\", deve aparecer como UM dos tópicos da lista\n- Quantidade de tópicos: [TERCEIRA LINHA]\n- Nível: intermediário\n- Público-alvo: Geral\n- Base de conhecimento: Informações da vector store + conhecimento interno\n\nCritérios de conteúdo:\n- Linguagem didática e acessível\n- Relevância prática para iniciantes/intermediários\n- Sequência lógica de aprendizado\n- Foco em conceitos fundamentais e práticos\n- Incorporar informações específicas encontradas na vector store\n- Cada tópico deve ter 3-4 pontos-chave explicativos\n- Incluir uma frase resumo por tópico\n- SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve ser incluído naturalmente entre os tópicos (não no título principal)\n- SE a segunda linha for \"NENHUM\": crie todos os tópicos baseados no tema principal e informações da vector store\n\nESTRUTURA JSON (criar internamente, NÃO mostrar ao usuário):\n{\n \"titulo_geral\": \"[TEMA PRINCIPAL apenas - SEM mencionar o tópico obrigatório]\",\n \"tema_base\": \"[PRIMEIRA LINHA]\",\n \"topico_obrigatorio\": \"[SEGUNDA LINHA ou null se for NENHUM]\",\n \"quantidade_topicos\": [TERCEIRA LINHA],\n \"fontes_rag\": \"[Resumo das informações obtidas da vector store]\",\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 2 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 3 (baseado em RAG + conhecimento)\",\n       \"Ponto principal 4 (opcional, baseado em RAG + conhecimento)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   },\n   {\n     \"id\": 2,\n     \"titulo\": \"[SE houver tópico obrigatório, ele deve aparecer como título de UM dos tópicos]\",\n     \"pontos_chave\": [\n       \"Ponto principal 1 (enriquecido com informações da vector store)\",\n       \"Ponto principal 2 (enriquecido com informações da vector store)\",\n       \"Ponto principal 3 (enriquecido com informações da vector store)\",\n       \"Ponto principal 4 (opcional, enriquecido com informações da vector store)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n   // ... continuar até a quantidade solicitada\n ]\n}\n\nETAPA 4 - GERAÇÃO DE IMAGENS:\nIMEDIATAMENTE após criar o JSON, chame a tool #Gerando_Imagens passando o JSON completo como parâmetro.\n\nETAPA 5 - DISPONIBILIZAÇÃO DOS LINKS:\nQuando você receber a resposta da tool com o array de links, extraia todos os URLs do array \"links\" e envie em uma única mensagem, separando cada link com uma quebra de linha (\\n).\n\nFORMATO DA RESPOSTA DA TOOL:\n{\n \"links\": [\n   \"https://drive.google.com/file/d/ID1/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID2/view?usp=drivesdk\",\n   \"https://drive.google.com/file/d/ID3/view?usp=drivesdk\"\n ]\n}\n\nResponda ao usuário com todos os links assim:\nhttps://drive.google.com/file/d/ID1/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID2/view?usp=drivesdk\nhttps://drive.google.com/file/d/ID3/view?usp=drivesdk\n\nREGRAS CRÍTICAS:\n1. Processe TUDO em uma única mensagem do usuário (3 linhas)\n2. SEMPRE faça buscas na vector store do Supabase antes de gerar conteúdo (Etapa 2)\n3. O conteúdo deve ser enriquecido com informações obtidas via RAG\n4. O título principal deve conter APENAS o tema geral (primeira linha)\n5. SE a segunda linha não for \"NENHUM\": o tópico obrigatório deve aparecer como UM dos tópicos na lista, não no título\n6. SE a segunda linha for \"NENHUM\": crie tópicos relevantes baseados no tema principal e informações da vector store\n7. A imagem principal não deve mostrar/mencionar o tópico obrigatório específico\n8. NUNCA mostre o JSON ao usuário\n9. Na Etapa 3: crie o JSON internamente (não mostre ao usuário)\n10. Na Etapa 4: SEMPRE chame a tool #Gerando_Imagens com o JSON\n11. Na Etapa 5: envie todos os links juntos, separados apenas por quebra de linha\n12. TODAS as 5 etapas devem ser executadas em sequência\n13. O usuário só deve ver os links finais como resposta\n\nFLUXO DE EXECUÇÃO:\n1. Receber entrada do usuário (3 linhas)\n2. Buscar informações na vector store do Supabase sobre o tema e tópico obrigatório\n3. Gerar JSON com conteúdo enriquecido pelas informações RAG\n4. Chamar tool de geração de imagens\n5. Retornar links finais\n\nEXEMPLOS DE ENTRADA:\nExemplo 1:\nTráfego Pago\nCloaker\n4\n\nExemplo 2:\nMarketing Digital\nNENHUM\n6\n\nIMPORTANTE: \n- Use OBRIGATORIAMENTE a metodologia RAG consultando a vector store do Supabase\n- Integre as informações obtidas da vector store com seu conhecimento interno\n- O tópico obrigatório (quando existir) deve ser integrado naturalmente na lista de tópicos\n- O título principal deve focar apenas no tema geral\n- Todos os pontos-chave devem ser enriquecidos com informações específicas da base de conhecimento"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[100,1080],"id":"9bb6b583-b393-48ba-b645-91dbee678a63","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-80,1300],"id":"f4dead55-5017-4541-b235-fbe2c180959b","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}},{"parameters":{"content":"## CURADORIA DO CONTEÚDO","height":420,"width":740},"type":"n8n-nodes-base.stickyNote","position":[-140,1020],"typeVersion":1,"id":"ed1f6437-3b00-4bbb-b60d-0381bd7eacdb","name":"Sticky Note"},{"parameters":{"sessionIdType":"customKey","sessionKey":"=123"},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[100,1300],"id":"1043ad09-e363-40b0-9b87-39971901cc0e","name":"Simple Memory"},{"parameters":{"toolDescription":"Chame esta ferramenta quando tiver o json estruturado.\n\n{\n \"titulo_geral\": \"Título Principal do Tema\",\n \"quantidade_topicos\": X,\n \"topicos\": [\n   {\n     \"id\": 1,\n     \"titulo\": \"Título do Tópico\",\n     \"pontos_chave\": [\n       \"Ponto principal 1\",\n       \"Ponto principal 2\",\n       \"Ponto principal 3\",\n       \"Ponto principal 4 (opcional)\"\n     ],\n     \"resumo\": \"Uma frase explicativa do conceito central\"\n   }\n ]\n}","method":"POST","url":"https://primary-production-70c40.up.railway.app/webhook/b6e527ec-07e6-4a4e-bbbc-4239b264a81d","sendBody":true,"specifyBody":"json","jsonBody":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('JSON', ``, 'json') }}","options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[460,1300],"id":"4bdfb631-9a5c-4d64-aced-00f4bb4fbef3","name":"Gerando_Imagens1"},{"parameters":{"mode":"retrieve-as-tool","toolName":"uambhjmzaoqksmdfuwgt","toolDescription":"Considere todas as informações como um parecer e faça os conteúdos de acordo com os conteúdos","tableName":{"__rl":true,"value":"empresa1","mode":"list","cachedResultName":"empresa1"},"topK":10000,"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[300,1560],"id":"98c3a5b2-84bd-4b8f-afa9-de900a84f752","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"ZHIMmNbYxUlvBiKp","name":"teste-vector"}}},{"parameters":{"model":"text-embedding-3-large","options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[380,1720],"id":"e6f0796e-26d5-4aeb-9631-1126527c656c","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"uambhjmzaoqksmdfuwgt","toolDescription":"Considere todas as informações como um parecer e faça os conteúdos de acordo com os conteúdos","tableName":{"__rl":true,"value":"content_automation","mode":"list","cachedResultName":"content_automation"},"topK":10000,"options":{"queryName":"content_automation_function"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[320,460],"id":"d036e331-2ea7-4a76-8c81-56f4ae5a7b6c","name":"Supabase Vector Store1","credentials":{"supabaseApi":{"id":"ZHIMmNbYxUlvBiKp","name":"teste-vector"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[440,600],"id":"6e7eb821-b5b6-4ca2-bd9a-7895134b6122","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"bEHAhmQV1LUjIUXy","name":"OpenAi account"}}}],"connections":{"AI Agent1":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"AI Agent1","type":"ai_languageModel","index":0}]]},"Simple Memory1":{"ai_memory":[[{"node":"AI Agent1","type":"ai_memory","index":0}]]},"Gerando_Imagens":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]},"Webhook":{"main":[[{"node":"AI Agent1","type":"main","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"AI Agent":{"main":[[]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Gerando_Imagens1":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Supabase Vector Store1","type":"ai_embedding","index":0}]]},"Supabase Vector Store1":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]}},"authors":"system migration","name":null,"description":null,"autosaved":false},"tags":[]}